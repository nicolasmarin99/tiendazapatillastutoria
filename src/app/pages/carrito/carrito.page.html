<ion-header>
  
  <app-barranav titulo="Carrito"></app-barranav>

</ion-header>

<ion-header>
  <ion-toolbar>
    <ion-title>Carrito de Compras</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Mostrar mensaje si el carrito está vacío -->
  <ion-card *ngIf="carrito.length === 0">
    <ion-card-header>
      <ion-card-title>Tu carrito está vacío</ion-card-title>
    </ion-card-header>
  </ion-card>

  <!-- Listar los productos en el carrito -->
  <ion-card *ngFor="let producto of carrito">
    <ion-card-header>
      <ion-card-title>{{ producto.nombre_producto }}</ion-card-title>
      <ion-card-subtitle>Marca: {{ producto.marca }}</ion-card-subtitle>
    </ion-card-header>
  
    <ion-card-content>
      <p>Talla: {{ producto.talla }}</p>
      <p>Precio: ${{ producto.precio }}</p>
      <p>Cantidad seleccionada: {{ producto.cantidadSeleccionada }}</p>
  
      <!-- Botón de eliminar producto -->
      <ion-button color="danger" (click)="eliminarProducto(producto.id_producto)">Eliminar</ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Mostrar el precio total -->
  <div class="precio-total">
    <p>Precio Total: {{ precioTotal2 }}</p>
  </div>

  <!-- Botón para finalizar la compra -->
  <ion-button expand="full" (click)="finalizarCompra()" [disabled]="carrito.length === 0">
    Finalizar compra
  </ion-button>
</ion-content>

<br>


<ion-footer>

      <!-- Mostrar para usuarios con rol 2 -->
      <app-barrafooter *ngIf="usuarioRol === 2"></app-barrafooter>
      <app-barrafooter *ngIf="usuarioRol === null"></app-barrafooter>

      <!-- Mostrar para otros roles o si el rol no se ha cargado -->
      <app-barrafooter2 *ngIf="usuarioRol === 1"></app-barrafooter2>
  
</ion-footer>